# 基本概念

* 文档（Document）

  * es是面向文档的，文档是所有可搜索数据的最小单位

  * 文档会被序列化为JSON格式，保存在es中

  * 每个文档都有一个Unique ID

    * 可以自己指定
    * 也可以由es自动生成

  * 示例

    ```json
    {
      "year": 1995,
      "@version": "1",
      "genre": [
        "Adventure", "Animation",
        "Children", "Comedy", "Fantasy"
      ],
      "id": "1",
      "title": "Toy Story"
    }
    ```

  * 文档的元数据

    ```json
    {
    	"_index": "movies",  // 文档所在的索引名
    	"_type": "_doc",  // 文档所属的类型名
    	"_id": "1",  // 文档的uid
    	"_score": 14.69302,  // 相关性打分
    	"_source": {  // 文档的原始json数据
    		"year": 1995,
    		"@version": "1",  // 文档的版本信息
    		"genre": [
    			"Adventure", "Animation",
    			"Children", "Comedy", "Fantasy"
    		],
    		"id": "1",
    		"title": "Toy Story"
    	}
    }
    ```

    其他：`_all`整合所有字段内容到该字段，已被废除

* 索引（index）
  * 索引是文档的容器，是一类文档的集合（类似于mongo中的集合）
    * Index体现逻辑空间的概念，每个索引都有自己的Mapping定义，用于定义文档的字段及类型（类似于表结构）
    * Shard体现物理空间的概念，索引中的数据分散在Shard上
  * Mapping和Settings
    * Mapping等一文档字段及类型
    * Settings定义不同的数据分布
  * 其他语义：保存一个文档到es中的过程，也叫索引（indexing）
* Type
  * 7.0开始，一个Index只能创建一个Type，也就是`_doc`
* 节点
* 分片
* 集群